# Safe ports
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 21
acl Safe_ports port 443
acl Safe_ports port 70
acl Safe_ports port 210
acl Safe_ports port 1025-65535
acl Safe_ports port 280
acl Safe_ports port 488
acl Safe_ports port 591
acl Safe_ports port 777

# CONNECT method
acl CONNECT method CONNECT

# HTTP port with IPv6 address
http_port [::]:5001
http_port [::]:10000
http_port [::]:10001
http_port [::]:10002
http_port [::]:10003

# Access rules
http_access allow localhost manager
http_access deny manager
http_access allow localhost

http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
# http_access allow localnet
http_access allow localhost

acl all src 0.0.0.0/0  # 允许所有 IP 地址
http_access allow all

# Other configuration settings
coredump_dir /var/spool/squid

# Log file paths
access_log /var/log/squid/access.log
cache_log /var/log/squid/cache.log

# Define access lists for different ports
acl port_10000 myport 10000
acl port_10001 myport 10001
acl port_10002 myport 10002
acl port_10003 myport 10003

# Specify the outgoing IPv6 address for each port
tcp_outgoing_address 2001:19f0:7400:2d1e:64b1:3c4d:d95e:c575 port_10000
tcp_outgoing_address 2001:19f0:7400:2d1e:9b02:05ef:b9e2:ff8a port_10001
tcp_outgoing_address 2001:19f0:7400:2d1e:d106:6f0a:a1d7:bf71 port_10002
tcp_outgoing_address 2001:19f0:7400:2d1e:4945:2a6a:a209:fe23 port_10003
